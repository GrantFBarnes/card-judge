{{define "body"}} {{if not .HasAccess}}
<div>{{template "lobby-access-form" .}}</div>
{{else}}
<script src="/static/js/lobby.js"></script>
<link rel="stylesheet" href="/static/css/lobby.css" />
<h3>Lobby: {{.Lobby.Name}}</h3>
<div>{{template "lobby-update-dialog" .}}</div>
<br />
<div
  hx-get="/api/lobby/{{.Lobby.Id}}/card-count"
  hx-trigger="load delay:1s, every 30s"
></div>
<br />
<div>
  <h4>Players</h4>
  <ul
    hx-get="/api/lobby/{{.Lobby.Id}}/players"
    hx-trigger="load delay:5s, every 10s"
  ></ul>
</div>
<br />
<div>{{template "player-hand" .}}</div>
<br />
<div id="lobby-chat-container">
  <div id="lobby-chat-messages"></div>
  <form id="lobby-chat-form">
    <input
      id="lobby-chat-input"
      type="text"
      maxlength="255"
      placeholder="Send a message..."
    />
    <input id="lobby-chat-submit" type="submit" value="Send" />
  </form>
</div>
{{end}} {{end}}
