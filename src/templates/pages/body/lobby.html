{{define "body"}} {{if not .HasAccess}}
<div>{{template "lobby-access-form" .}}</div>
{{else}}
<script src="/static/js/lobby.js"></script>
<link rel="stylesheet" href="/static/css/lobby.css" />
<h3>Lobby: {{.Lobby.Name}}</h3>
<div>{{template "lobby-update-dialog" .}}</div>
<br />
<div>
  <h4>Players</h4>
  <ul hx-get="/api/lobby/{{.Lobby.Id}}/players" hx-trigger="every 2s"></ul>
</div>
<br />
<div>
  <h4>Player Hand</h4>
  <div
    hx-post="/api/lobby/{{.Lobby.Id}}/player/{{.Data.Player.Id}}/draw"
    hx-trigger="every 5s"
  ></div>
  <ul
    hx-get="/api/lobby/{{.Lobby.Id}}/player/{{.Data.Player.Id}}/hand"
    hx-trigger="every 7s"
  ></ul>
</div>
<br />
<h3>Cards in Lobby</h3>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Text</th>
    </tr>
  </thead>
  <tbody>
    {{range .Lobby.Cards}}
    <tr>
      <td>{{.Type}}</td>
      <td style="white-space: pre">{{.Text}}</td>
    </tr>
    {{end}}
  </tbody>
</table>
<div id="lobby-chat-container">
  <div id="lobby-chat-messages"></div>
  <form id="lobby-chat-form">
    <input
      id="lobby-chat-input"
      type="text"
      maxlength="255"
      placeholder="Send a message..."
    />
    <input id="lobby-chat-submit" type="submit" value="Send" />
  </form>
</div>
{{end}} {{end}}
